<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>MemeMaster</title>
    <link rel="stylesheet" href="style.css" />
    <style>
        #container {
            display: grid;
            grid-template-columns: [col1-start] 70% [col2-start] 15% [col3-start] auto;
        }

        h1 {
            grid-column-start: col1-start;
        }
    </style>
</head>

<body>
    <div id="container">
        <h1>
            <a href="read.html">MemeMaster</a>
        </h1>

        <!-- When the My Account button is pressed, the user is redirected to the My Account page -->
        <button id="user_account" class="blue_button">My Account</button>

        <!-- When the log out button is pressed, the user is logged out and redirected to the log in page -->
        <button id="logout" class="blue_button">Log Out</button>
    </div>

    <br />

    <canvas id="memeCanvas" width="300" height="300" style="border:1px solid"></canvas>
    <img id="img1" style="display: none" src="defaultimage.png" />

    <div>
        <input type="file" id="imageLoader" name="imageLoader" />
        <input type='button' onclick="handleUrlImage(this);" value="image url" />

        <br />

        <label>Top:</label>
        <input type="text" id="topText" value="Add Text">

        <br />

        <label>Bottom:</label>
        <input type="text" id="bottomText" value="Here">

        <br />

        <label>Font Family:</label>
        <select id="fontFamily">
            <option value="Impact">Impact</option>
            <option value="Times New Roman">Times New Roman</option>
            <option value="Times">Times</option>
            <option value="Arial">Arial</option>
            <option value="serif">serif</option>
            <option value="sans-serif">sans-serif</option>
            <option value="Helvetica">Helvetica</option>
        </select>

        <br />
        <label>Font Size:</label>
        <input type="text" id="fontSize" value="30"><br>
    </div>

    <button id="apply" class="blue_button">Apply Changes</button>
    <button id="save" class="blue_button">Save Meme</button>
    <!--<img id='output'>-->
</body>
</html>

<!-- The script for Firebase -->
<script src="https://www.gstatic.com/firebasejs/5.6.0/firebase.js"></script>
<script>
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyCdi5c7M5eVOWShwCXOIjxQcweE_flzrZQ",
        authDomain: "cse-134b-final-project.firebaseapp.com",
        databaseURL: "https://cse-134b-final-project.firebaseio.com",
        projectId: "cse-134b-final-project",
        storageBucket: "cse-134b-final-project.appspot.com",
        messagingSenderId: "828897432315"
    };
    firebase.initializeApp(config);
</script>

<!-- Link the external JavaScript file-->
<script src="meme_master.js"></script>

<!-- JavaScript code for My Account button's onclick function-->
<script type="text/javascript">
    document.getElementById("user_account").onclick = function () {
        window.location = "account.html"
    }
</script>

<!-- JavaScript code for log out button's onclick function-->
<script type="text/javascript">
    document.getElementById("logout").onclick = function () {
        logout();
    }
</script>

<!-- JavaScript code for the add file button's onclick function-->
<script type="text/javascript">
    var newImage = document.getElementById("imageLoader");
    newImage.addEventListener("change", handleImage, false);
</script>


<!-- JavaScript code for the apply button's onclick function-->
<script type="text/javascript">
    document.getElementById("apply").onclick = function () {
        applyChanges();
    }
</script>

<!-- JavaScript code for the save button's onclick function-->
<script type="text/javascript">
    document.getElementById("save").onclick = function () {
        saveMeme();
    }
</script>

<!-- JavaScript code for loading the initial canvas -->
<script type="text/javascript">
    initCanvas();
</script>